function goToPage(e,t){var a=$('.page-section[data-id="'+e+'"]');a.length||console.log("ERROR!!!!"),$(".page-section.active").removeClass("active"),$('.page-section[data-id="'+e+'"]').addClass("active"),$(".nav-item.active").removeClass("active"),$('.nav-item[data-target="'+e+'"]').addClass("active"),"projects"==e&&a.hasClass("not-loaded")&&$.ajax({url:"/"+e}).done(function(t){insertProjectsData(t[e],e,a)})}function insertProjectsData(e,t,a){console.log(e),e.forEach(function(e){var o=$(a).find("article.template").clone(),n=$(o).find(".projects-single-permalink").attr("href","#"+t+"/"+e.fields.slug).text(e.fields.title).attr("data-slug",e.fields.slug).attr("data-name",e.fields.title);e.fields.coverMedia&&e.fields.coverMedia.fields.file.url&&$(o).find(".projects-single-cover-image").css("background-image","url("+e.fields.coverMedia.fields.file.url+")"),$(o).find(".projects-single-title").append(n),$(o).find(".projects-single-paragraph").text(e.fields.leadParagraph),$(o).removeClass("template"),$(a).find(".page-content").append(o)}),a.removeClass("not-loaded").addClass("loaded")}function getSingleProject(e){$.ajax({url:"/projects/"+e}).done(function(e){insertSingleProjectData(e)})}function insertSingleProjectData(e){var t=$(".projects-single-template");t.find(".projects-single-title").text(e.project.fields.title),t.find(".projects-single-lead").text(e.project.fields.leadParagraph);var a=converter.makeHtml(e.project.fields.bodyText);t.find(".projects-single-body").html(a),t.removeClass(".projects-single-template").addClass("projects-single").attr("id",e.project.fields.slug),$(".projects-single-section .page-content").html(t).removeClass("not-loaded").addClass("loaded")}function showSingleProject(){$(".projects-single-section").addClass("active")}var converter=new showdown.Converter;$(document).ready(function(){var e=window.location.hash;""==e&&(e="#home");var t=e.substring(1,e.length);if(-1===t.indexOf("projects/"))goToPage(t,!1);else{var a=t.substring("projects/".length,t.length);goToPage("projects",!1),getSingleProject(a),showSingleProject()}$(".nav-item").on("click",function(e){e.stopPropagation(),goToPage($(this).attr("data-target"),!0,this)}),$("body").on("click",".projects-single-permalink",function(){getSingleProject($(this).attr("data-slug")),showSingleProject()}),$("body").on("mouseenter",".projects-single-permalink",function(){var e=$(this).attr("data-name")+" ";e=e.repeat(500),$("#background-container").html(e)}),$("body").on("mouseleave",".projects-single-permalink",function(){$("#background-container").html("")})});